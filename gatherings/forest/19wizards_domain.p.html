<style>
    .mapRequestButton {
        text-align: center;
        width: 90%;
        height: 20%;
    }
</style>

<body>
    <img class="background" src="./images/19.png"></img>
    <a class="hotspot centered move" onclick="Frames.toggle('halt')"
        style="left: 95.888%; top: 54.666%; width: 8%; height: 90%"></a>

    <a class="talk" onclick="startWizardConversation()">
        <div class="wizard"
            style="background-color:white;color:navy;padding:2%;position:absolute;top:53%;left:33%;transform:rotate(-9deg);">
            (âˆ© Í¡Â° ÍœÊ– Í¡Â°)âŠƒâ”â˜†ï¾Ÿ. *</div>
    </a>

    <section id="frames" class="Frames">
        <draggable-frame id="test">
            <a class="move" style="font-size: 5vw; text-decoration: none; opacity: 0.5"
                href="./6messy_server_screen.html">
                ğŸ”™
            </a>
        </draggable-frame>

        <draggable-frame hidden id="halt" x=40 y=15 width=70 height=40 bodyClass="InvertedFrame">
            <span style="font-family: cursive;">don't worry about it. <br>i have it under control.<br>(âˆ© Í¡~
                ÍœÊ– Í¡Â°)âŠƒâ”â˜†ï¾Ÿ. *</span>
        </draggable-frame>

        <draggable-frame hidden id="dialog" x=10 y=69 width=70 height=30 bodyClass="InvertedFrame">
            <span id='tired' style="font-family: cursive;">this is where my dialog is gonna go but i'm too
                tired to
                talk right now. wait a sec...</span>
            <span id='tired' style="font-family: cursive;"> What are you doing in my house???</span>
        </draggable-frame>

        <draggable-frame hidden id="waited" x=50 y=60 width=40 height=30 bodyClass="InvertedFrame">
            <span style="font-family: cursive;">Okay, okay, what will it take? Magic beans? I ran out of
                those last week...</span>
            <br>
            <button class="mapRequestButton"
                onclick="Frames.show('wizardMap'); d.State.gotMapFromWizard = true">A
                MAP!</button>
        </draggable-frame>

        <draggable-frame persistent hidden id="wizardMap" x=70 y=20 width=20 height=30>
            <d-iframe src="../../sitemap/map.html">
            </d-iframe>
        </draggable-frame>

    </section>
</body>

<script>
    let initiatedConversation = false
    const wizardTimerSeconds = 10
    function startWizardConversation () {
        Frames.toggle('dialog')
        if (!initiatedConversation) {
            setTimeout(wizardTimeout, wizardTimerSeconds * 1000)
            initiatedConversation = true
        }
    }

    function wizardTimeout () {
        Frames.show('waited')
        setTimeout(() => {
            Frames.show('mapask')
        }, 500)
    }
</script>
