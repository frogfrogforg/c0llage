<head>
    <link rel="stylesheet" href="common.css">
    <script src="common.js"></script>
    <link rel="stylesheet" href="../shared/frames.css">
    <script type="module">
        import * as Frames from "../shared/frames.js"
        Frames.init()
        window.Frames = Frames

        let swanOpen = false
        let swanY = 0
        let clickedSwan = false
        const swanFlySpeed = 0.25
        window.onclickswan = function () {
            if (!clickedSwan) {
                document.getElementById('swanvideo').src = "http://www.youtube.com/embed/jjDYW46PjA8?autoplay=1"
                clickedSwan = true
            }
            Frames.show('pwnd')

            document.getElementById('swan').src =
                !swanOpen
                    ? "./images/swanglasses_happy.png"
                    : "./images/swanglasses_shady.png"
            swanOpen = !swanOpen

            swanY -= swanFlySpeed
            document.getElementById('swan').style.marginTop = swanY + '%'
        }
    </script>
    <style>
        .hotspot {
            border: inset 0.5em mediumseagreen
        }

        .swan {
            position: absolute;
            left: 20%;
            top: 50%;
            width: 30%;
            height: 30%;
        }

        .speechbubble {
            width: 69.69%;
            height: 42.069%;
            position: absolute;
            border: 2px solid black;
            border-radius: 50%;
            background-color: white;
            display: flex;
            text-align: center;
            align-items: center;
        }

        .bubbletail {
            width: 1%;
            height: 1%;
            position: absolute;
            top: 90%;
            left: 70%;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 20px solid black;
            transform: skew(40deg) rotate(214deg);
        }

        .Frame-content {
            /* background-color: rgba(0, 0, 0, 0); */
        }
    </style>
</head>

<body>
    <div class="container">
        <main class="content">
            <iframe id="swanvideo" style="position: absolute; top:0; left:0; z-index: -1;" width="100%" height="100%"
                src="about:blank" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
            <img class="background" src="./images/swan_lake.png"></img>
            <section id="frames" class="Frames">
                <draggable-frame hidden id="pwnd" x=20 y=30 width=20 height=25 bodyClass="transparentframe">
                    <div class="speechbubble">
                        <span>

                            u just got <a target="_blank" href='https://duckduckgo.com/?q="pwn`ed"'>
                                PWN`ed
                            </a> n00b!
                        </span>
                        <div class="bubbletail"></div>
                    </div>
                </draggable-frame>
            </section>

            <a class="hotspot" href="../../games/guttersour/WEB/index.html"
                style="left: 58%; top: 75.666%; width: 12%; height: 5%"></a>
            <img id="swan" class="swan" onclick="window.onclickswan()" src="./images/swanglasses_shady.png"></img>

        </main>
    </div>
</body>